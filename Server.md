## DNS ?

- Domain Name System : 사람이 읽을 수 있는 도메인을 머신이 읽을 수 있는 IP주소로 변환해주는 친구

⇒ IP : 192.0.2.44 → Domain : www.amazon.com

- DNS 서비스는 전 세계에 배포된 서비스로, 유저와 컴퓨터가 서로 통신할 수 있도록 해줌!
- 도메인 이름을 웹 브라우저에 입력할 때 최종 사용자를 어떤 서버에 연결할 것인지 요청해주는것이 ⇒ 쿼리!!

- DNS resolver ( = 재귀확인자, DNS 해석기)
    - 재귀확인자는 유저와 DNS 네임서버 사이의 중개자 역할
    - 아래 root server, tld server, name server 와 클라이언트 사이에서 요청 & 응답을 해줌
        1. 웹 클라이언트(유저)로 부터 받은 DNS 쿼리를 받아 캐시 데이터를 응답하거나,
        2. 요청을 ROOT 서버로 보내고,
        3. 또 다른 요청을 TLD 서버로 보고,
        4. Name 서버로 보냄

- ROOT Server
    - 해당 도메인의 확장자 ( .com, .net, .ort 등 )에 따라 재귀 확인자를 TLD에 보내 응답하도록 함

- TLD Server (TLD Name Server)
    - .com, .net 또는 URL 마지막 dot 뒤에 오는 일반적인 도메인 확장자를 공유하는 모든 도메인 이름의 정보 유지
    - TLD 네임서버는 2가지로 구분됌
        - 일반 최상위 도메인 : 국가별로 공유하지 않는 도메인 ⇒ .com, .org, .net, .edu 등
        - 국가 코드 최상위 도메인 : 국가 or 주 와 관련된 도메인 ⇒ .uk, .us, .ru 등
    
- Name Server
    - TLD 서버로 부터 응답을 받으면 네임서버로 넘어오는데, 일반적으로 IP주소를 확인하는 확인자의 마지막 단계
    - 호스팅 영역에서 www.amazon.com에 대한 레코드를 찾아 웹 서버의 IP주소 192.0.2.44등 연관된 값을 받고 이 IP주소를 DNS 해석기로 보냄

- 3가지 서버를 돌면서 DNS resolver는 사용자에게 필요한 IP주소를 얻게 된다
    - 해석기는 이 값을 웹 브라우저로 반환해줌
    - 또 다음에는 빠르게 응답할 수 있도록 사용자가 지정하는 일정 기간동안은 IP주소를 캐싱(저장)해둠
    
- 마지막으로! 웹 브라우저는 DNS resolver로 부터 얻은 IP주소를 웹서버에 요청해주고,
    
    웹 서버는 웹페이지를 웹 브라우저로 변환하고, 웹 브라우저는 이 페이지를 표시해준다~~
